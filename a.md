
```uml
@startuml

opt 未登録
  ユーザー -> Webサーバー : ユーザー登録(情報を入力)
  Webサーバー -> DBサーバー : ユーザー登録
  DBサーバー -> DBサーバー : 登録処理
  DBサーバー -> Webサーバー : 登録結果
  alt 登録成功
    Webサーバー -> ユーザー : 登録成功
  else 登録失敗
    Webサーバー -> ユーザー : 登録失敗
  end
end

ユーザー -> Webサーバー : ログイン(ID・PASS入力)
Webサーバー -> DBサーバー : ログイン照会
DBサーバー -> DBサーバー : ログイン処理
DBサーバー -> Webサーバー : 認証結果
alt ログイン成功
  Webサーバー -> ユーザー : 認証結果(成功)
  opt 会員情報編集
    ユーザー -> Webサーバー : 変更する情報を入力
    Webサーバー -> DBサーバー :変更情報
    DBサーバー -> DBサーバー : 変更処理
    DBサーバー -> Webサーバー : 編集結果
  Webサーバー -> ユーザー : 編集結果
  end


  opt 作成
    ユーザー -> Webサーバー : 作成をクリック
    Webサーバー -> DBサーバー : 素材照会
    DBサーバー -> Webサーバー : 照会結果
    Webサーバー -> ユーザー : 詳細情報表示
    ユーザー -> Webサーバー : 素材追加
    Webサーバー -> DBサーバー : 素材追加
    DBサーバー -> DBサーバー : 追加処理
    DBサーバー -> Webサーバー : 追加結果
    opt 追加成功
      Webサーバー -> ユーザー : 追加完了メッセージ
    else 追加失敗
      Webサーバー -> ユーザー : 追加失敗メッセージ
    end
    ユーザー -> Webサーバー : 完成をクリック
    Webサーバー -> DBサーバー : 完成処理
    DBサーバー -> DBサーバー : DB追加処理
    DBサーバー -> Webサーバー : 処理結果
    opt 処理成功
      Webサーバー -> ユーザー : 完成メッセージ表示
    else 処理失敗
      Webサーバー -> ユーザー : 失敗メッセージ表示
    end
  end

  opt 検索
    ユーザー -> Webサーバー : 検索(商品タイプ)
    Webサーバー -> DBサーバー : 検索処理(商品タイプ)
    DBサーバー -> DBサーバー : 検索処理
    DBサーバー -> Webサーバー : 検索結果
    Webサーバー -> ユーザー : 検索結果
  end

  opt 商品クリック(詳細表示)
    ユーザー -> Webサーバー : 商品クリック
    Webサーバー -> DBサーバー : 商品照会
    DBサーバー -> Webサーバー : 照会結果
    Webサーバー -> ユーザー : 詳細情報表示
    opt 戻る機能
      ユーザー -> Webサーバー : 戻る処理
    end
    opt カートに商品を追加
      ユーザー -> Webサーバー : カートに追加
      Webサーバー -> DBサーバー : 商品照会
      DBサーバー -> DBサーバー : カートに追加された分の商品数を減らす
    end
  end
else ログイン失敗
  Webサーバー -> ユーザー : 認証結果(失敗)
end
@enduml
```
